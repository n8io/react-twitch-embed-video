(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{401:function(module,exports,__webpack_require__){__webpack_require__(402),__webpack_require__(545),module.exports=__webpack_require__(546)},46:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EMBED_URL}));var slicedToArray=__webpack_require__(104),react=__webpack_require__(0),react_default=__webpack_require__.n(react),lib=__webpack_require__(82),lib_default=__webpack_require__.n(lib),objectSpread2=__webpack_require__(400);var EMBED_URL="https://embed.twitch.tv/embed/v1.js";function TwitchEmbedVideo(props){var width=props.width,height=props.height,targetId=props.targetId,targetClass=props.targetClass,conatinerRef=Object(react.useRef)(),_useTwitchPlayer=function useTwitchPlayer(props){var _useState=Object(react.useState)(null),_useState2=Object(slicedToArray.a)(_useState,2),twitchEmbed=_useState2[0],setTwitchEmbed=_useState2[1];return[twitchEmbed,Object(react.useCallback)((function(){var embed=new lib_default.a.Twitch.Embed(props.targetId,Object(objectSpread2.a)({},props));setTwitchEmbed(embed)}),[props])]}(props),_useTwitchPlayer2=Object(slicedToArray.a)(_useTwitchPlayer,2),twitchEmbed=_useTwitchPlayer2[0],setTwitchEmbed=_useTwitchPlayer2[1],setTwitchEmbedEvent=function useTwitchEmbedEvent(twitchEmbed){return Object(react.useCallback)((function(event,callback){return twitchEmbed?(twitchEmbed.addEventListener(event,callback),function(){twitchEmbed.removeEventListener(event,callback)}):function(){}}),[twitchEmbed])}(twitchEmbed),playerReadyCallback=function usePlayerReady(twitchEmbed,_ref){var onPlayerReady=_ref.onPlayerReady,autoplay=_ref.autoplay,muted=_ref.muted;return Object(react.useCallback)((function(){if(twitchEmbed){var player=twitchEmbed.getPlayer();muted?player.setVolume(0):player.setVolume(1),!1===autoplay&&player.pause(),onPlayerReady&&onPlayerReady(player)}}),[twitchEmbed,muted,autoplay,onPlayerReady])}(twitchEmbed,props),videoPlayCallback=function useOnPlayCallback(twitchEmbed,_ref){var autoplay=_ref.autoplay,onVideoPlay=_ref.onVideoPlay,_useState=Object(react.useState)(autoplay),_useState2=Object(slicedToArray.a)(_useState,2),shouldBePlaying=_useState2[0],setShouldBePlaying=_useState2[1];return Object(react.useCallback)((function(){shouldBePlaying?(setShouldBePlaying(!0),onVideoPlay()):(setShouldBePlaying(!0),twitchEmbed.getPlayer().pause())}),[shouldBePlaying,setShouldBePlaying,onVideoPlay,twitchEmbed])}(twitchEmbed,props);return Object(react.useEffect)((function(){if(lib_default.a.Twitch){var removeVideoPlay=setTwitchEmbedEvent(lib_default.a.Twitch.Embed.VIDEO_PLAY,videoPlayCallback),removePlayerReady=setTwitchEmbedEvent(lib_default.a.Twitch.Embed.VIDEO_READY,playerReadyCallback);return function(){removePlayerReady(),removeVideoPlay()}}}),[playerReadyCallback,setTwitchEmbedEvent,videoPlayCallback]),Object(react.useEffect)((function(){conatinerRef.current.innerHTML="",lib_default.a.Twitch&&lib_default.a.Twitch.Embed?setTwitchEmbed():function loadTwitchEmbed(setTwitchEmbed){var script=document.createElement("script");script.setAttribute("src",EMBED_URL),script.addEventListener("load",setTwitchEmbed),document.body.appendChild(script)}(setTwitchEmbed)}),[setTwitchEmbed]),react_default.a.createElement("div",{ref:conatinerRef,style:{width:width,height:height},className:targetClass,id:targetId})}TwitchEmbedVideo.displayName="TwitchEmbedVideo",TwitchEmbedVideo.defaultProps={targetId:"twitch-embed",width:"940",height:"480",autoplay:!0,muted:!1,onVideoPlay:function onVideoPlay(){},onPlayerReady:function onPlayerReady(){},onUserLogin:function onUserLogin(){}},TwitchEmbedVideo.__docgenInfo={description:"",methods:[],displayName:"TwitchEmbedVideo",props:{targetId:{defaultValue:{value:"'twitch-embed'",computed:!1},type:{name:"string"},required:!1,description:"Custom id to target"},width:{defaultValue:{value:"'940'",computed:!1},type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1,description:"Width of video embed including chat"},height:{defaultValue:{value:"'480'",computed:!1},type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1,description:"Maximum width of the rendered element, in pixels. This can be expressed as a percentage, by passing a string like 100%"},autoplay:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:"If true, the video starts playing automatically, without the user clicking play. The exception is mobile platforms, on which video cannot be played without user interaction. Default: true."},muted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:"Specifies whether the initial state of the video is muted. Default: false."},onVideoPlay:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"The video started playing. This callback receives an object with a sessionId property."},onPlayerReady:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"The video player is ready for API commands. This callback receives the player object."},onUserLogin:{defaultValue:{value:"() => {}",computed:!1},required:!1},targetClass:{type:{name:"string"},required:!1,description:"Custom class name to target"},channel:{type:{name:"string"},required:!0,description:"Optional for VOD embeds; otherwise, required. Name of the chat room and channel to stream."},video:{type:{name:"string"},required:!0,description:"ID of a VOD to play. Chat replay is not supported."},allowfullscreen:{type:{name:"bool"},required:!1,description:"If true, the player can go full screen. Default: true."},chat:{type:{name:"enum",value:[{value:"'default'",computed:!1},{value:"'mobile'",computed:!1}]},required:!1,description:"Specifies the type of chat to use. Valid values:\ndefault: Default value, uses full-featured chat.\nmobile: Uses a read-only version of chat, optimized for mobile devices.\n\n          To omit chat, specify a value of video for the layout option."},collection:{type:{name:"string"},required:!1,description:"The VOD collection to play. If you use this, you also must specify an initial video in the VOD collection. All VODs are auto-played. Rechat is not supported"},layout:{type:{name:"enum",value:[{value:"'video'",computed:!1},{value:"'video-with-chat'",computed:!1}]},required:!1,description:"Determines the screen layout. Valid values:\n          video-with-chat: Default if channel is provided. Shows both video and chat side-by-side. At narrow sizes, chat renders under the video player.\nvideo: Default if channel is not provided. Shows only the video player (omits chat)."},theme:{type:{name:"string"},required:!1,description:"The Twitch embed color theme to use. Valid values: light or dark. Default: light."}}};__webpack_exports__.b=TwitchEmbedVideo;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.js"]={name:"TwitchEmbedVideo",docgenInfo:TwitchEmbedVideo.__docgenInfo,path:"src/index.js"})},464:function(module,exports){},546:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(131),_storybook_theming__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{theme:Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_1__.create)({base:"dark",brandTitle:"React Twitch Embed Video",brandUrl:"https://github.com/talk2MeGooseman/react-twitch-embed-video"}),name:"React Twitch Embed Video",url:"https://github.com/talk2MeGooseman/react-twitch-embed-video",isFullscreen:!1,showNav:!0,showPanel:!0,panelPosition:"bottom",hierarchySeparator:/\/|\./,hierarchyRootSeparator:/\|/,sidebarAnimations:!0,enableShortcuts:!0,isToolshown:!0,storySort:void 0}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loadStories(){__webpack_require__(732)}),module)}.call(this,__webpack_require__(302)(module))},732:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(131),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(253),_storybook_addon_info__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(387),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(53),_src_index__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(46),ignoreArgsAction=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.decorateAction)([function(){return["callback triggered"]}]),_ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.b,{width:"500px",height:"400px",channel:"talk2megooseman"});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("React Twitch Embed Video",module).addDecorator(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_3__.withInfo).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.withKnobs).add("Choose channel",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.b,{channel:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.text)("Channel","talk2megooseman")})})).add("Choose VOD to play",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.b,{video:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.text)("VOD ID","462014255")})})).add("Custom width and height",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.b,{channel:"talk2megooseman",height:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.text)("Height","400"),width:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.text)("Width","800")})})).add("Theme: light or dark",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.b,{channel:"talk2megooseman",theme:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.select)("Theme",["dark","light"],"dark")})})).add("Layout: with or without chat",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.b,{channel:"talk2megooseman",layout:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.select)("Layout",["video-with-chat","video"],"video")})})).add("Choose autoplay",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.b,{video:"462014255",autoplay:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.select)("Autoplay",[!0,!1],!1)})})).add("Choose auto mute",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.b,{video:"462014255",muted:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.select)("Muted",[!0,!1],!0)})})).add("2 twitch streams and dynamic update knob",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{height:"900px"}},_ref,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.b,{width:"100%",height:"100%",channel:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.text)("Second Embed Channel","lana_lux"),targetId:"second"}))})).add("with video play callback",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.b,{channel:"talk2megooseman",onVideoPlay:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("onVideoPlay")})})).add("with player ready callback",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.b,{channel:"talk2megooseman",onPlayerReady:ignoreArgsAction("onPlayerReady")})}))}.call(this,__webpack_require__(302)(module))},747:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":364,"./nestedObjectAssign.js":364};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=747}},[[401,1,2]]]);
//# sourceMappingURL=main.b8b84bfb4946b3c59fc5.bundle.js.map